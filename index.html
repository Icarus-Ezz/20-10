<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üíê 20/10</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
.skip-btn{
  position:absolute;
  top:20px;
  right:20px;
  padding:8px 16px;
  background:linear-gradient(90deg,#ffc2d8,#ff87b5);
  color:#fff;
  border:none;
  border-radius:20px;
  font-weight:600;
  font-size:14px;
  cursor:pointer;
  box-shadow:0 4px 12px rgba(255,100,150,.3);
  transition:transform .2s;
}
.skip-btn:hover{transform:scale(1.08)}
.to-letter{
  position:absolute;
  bottom:40px;
  left:50%;
  transform:translateX(-50%);
  background:linear-gradient(90deg,#ff8fb1,#ff5d9e);
  color:#fff;
  font-size:18px;
  font-weight:600;
  border:none;
  border-radius:30px;
  padding:10px 28px;
  cursor:pointer;
  box-shadow:0 6px 16px rgba(255,100,150,.4);
  opacity:0;
  transition:opacity .6s ease, transform .3s ease;
}
.to-letter.show{
  opacity:1;
  transform:translateX(-50%) scale(1);
}
.hidden{display:none;}
  
:root{
  --pink-1:#ff7ea8;
  --pink-2:#ffe4ef;
  --text:#472b3a;
  --card-bg:linear-gradient(180deg,#fff,#fff9fc);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:Poppins,sans-serif;
  color:var(--text);
  overflow-x:hidden;
  background:linear-gradient(180deg,#fff7fb,#fffafc);
}

/* ================== INTRO ================== */
.intro{
  position:fixed;inset:0;
  background:radial-gradient(circle at center,#fff0f6,#ffd1e2,#ffe7f0);
  display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;
  z-index:9999;animation:fadeIn 1s ease;
}
.intro h1{font-family:'Playfair Display',serif;font-size:44px;color:#a1345b;opacity:0;transform:translateY(40px);animation:slideUp 1.4s ease forwards;}
.intro p{font-size:18px;color:#6a3b50;margin-top:10px;opacity:0;transform:translateY(40px);animation:slideUp 1.4s ease .4s forwards;}
.start-btn{margin-top:30px;padding:14px 36px;border:none;border-radius:30px;background:linear-gradient(90deg,#ff99b9,#ff5f98);color:#fff;font-weight:600;font-size:18px;cursor:pointer;box-shadow:0 10px 25px rgba(255,120,160,.4);opacity:0;transform:scale(.9);animation:popIn 1.4s ease .8s forwards;transition:transform .2s;}
.start-btn:hover{transform:scale(1.05)}
.flower {
  position: fixed;
  top: -50px;
  width: 14px;
  height: 14px;
  background: radial-gradient(circle at 30% 30%, #ff9ac9, #ff4f94 60%);
  border-radius: 60% 40% 60% 40%;
  opacity: 0.9;
  pointer-events: none;
  animation: fall linear forwards;
  z-index: 9999;
  box-shadow: 0 0 8px rgba(255,150,200,0.5);
}
@keyframes fall {
  0% {
    transform: translateX(0) rotate(0deg);
    opacity: 1;
  }
  25% {
    transform: translateX(20px) rotate(90deg);
  }
  50% {
    transform: translateX(-20px) rotate(180deg);
  }
  75% {
    transform: translateX(15px) rotate(270deg);
  }
  100% {
    top: 100vh;
    transform: translateX(-30px) rotate(360deg);
    opacity: 0;
  }
}

@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{to{opacity:1;transform:translateY(0)}}
@keyframes popIn{to{opacity:1;transform:scale(1)}}

/* ========== HEADER ========== */
header{text-align:center;background:linear-gradient(90deg,#fff1f6,#fff9fc);padding:20px;box-shadow:0 6px 18px rgba(0,0,0,0.05);display:none;}
header h1{margin:0;font-family:'Playfair Display',serif;color:#5b2340;font-size:26px;}

/* ========== LAYOUT ========== */
.wrap{max-width:1200px;margin:26px auto;padding:20px;display:grid;grid-template-columns:1fr 460px;gap:26px;display:none;}
@media(max-width:900px){.wrap{grid-template-columns:1fr;padding:16px}}

/* ========== QUIZ ========== */
.card{background:var(--card-bg);border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,0.08);padding:26px;position:relative;z-index:5;animation:fadeIn 1s ease;}
.title{font-family:'Playfair Display',serif;font-size:26px;color:var(--pink-1);margin:0}
.sub{color:#7c5f70;font-size:14px}
.question{margin-top:18px;font-size:22px;font-weight:700;color:#372434}
.options{display:flex;flex-direction:column;gap:12px;margin-top:16px}
.opt{padding:14px 16px;border-radius:12px;background:#fff;border:1px solid rgba(200,130,150,0.08);font-size:18px;cursor:pointer;box-shadow:0 8px 20px rgba(0,0,0,0.04);text-align:left;transition:transform .15s,background .2s;}
.opt:hover{transform:translateY(-3px);background:#fff6f9}
.opt.correct{background:linear-gradient(90deg,#e6fff6,#dffaf0)}
.opt.wrong{background:linear-gradient(90deg,#fff0f0,#ffecec)}
.result{margin-top:12px;font-weight:700;color:var(--pink-1);min-height:28px}

/* ========== SLIDE ========== */
.side{display:flex;flex-direction:column;align-items:center;gap:18px;}
.slide-wrap{width:100%;max-width:460px;height:320px;border-radius:14px;overflow:hidden;box-shadow:0 18px 40px rgba(0,0,0,0.1);position:relative;}
.slide-track{display:flex;height:100%;transition:transform .8s cubic-bezier(.22,.9,.28,1);}
.slide-track img{width:100%;height:100%;object-fit:cover;flex:0 0 100%;border-radius:14px;}
.counter{font-weight:700;color:var(--pink-1);font-size:18px;text-align:center}

/* ========== LETTER ========== */
.letter-wrap{position:fixed;inset:0;background:rgba(10,6,10,0.45);display:none;align-items:center;justify-content:center;z-index:9999;}
.letter-wrap.show{display:flex;animation:fadeIn .8s ease}
.letter-card{width:90%;max-width:720px;background:linear-gradient(180deg,#fff,#fff9fc);border-radius:14px;padding:30px;box-shadow:0 30px 80px rgba(0,0,0,0.45);text-align:left;overflow:hidden;}
.letter-title{font-family:'Playfair Display',serif;font-size:24px;color:var(--pink-1);margin:0 0 10px}
.typewriter{font-size:18px;color:#3b2a3a;white-space:pre-wrap;min-height:140px}
.done-note{margin-top:14px;color:#6b5360;font-weight:600;text-align:right;opacity:0;transition:opacity .5s}

/* ========== VIDEO TRANSITION ========== */
.transition-video{
  position:fixed;inset:0;background:#000;display:none;justify-content:center;align-items:center;z-index:9998;
}
.transition-video.show{display:flex;animation:fadeIn .6s ease forwards;}
.transition-video video{width:100%;height:100%;object-fit:cover;}
.transition-text{
  position:absolute;bottom:15%;font-size:28px;color:#000000;font-family:'Playfair Display',serif;
  text-shadow:0 0 12px rgba(255,255,255,.8);animation:fadeInOut 5s ease forwards;
}
@keyframes fadeInOut{
  0%,100%{opacity:0;transform:translateY(20px);}
  15%,85%{opacity:1;transform:translateY(0);}
}
</style>
</head>
<body>

<!-- INTRO -->
<div class="intro" id="intro">
  <h1>üíñ Ch√†o m·ª´ng ƒë·∫øn v·ªõi ng√†y 20/10 üíñ</h1>
  <p>M·ªôt h√†nh tr√¨nh nh·ªè xinh ƒë·ªÉ g·ª≠i y√™u th∆∞∆°ng ƒë·∫øn nh·ªØng ng∆∞·ªùi ph·ª• n·ªØ tuy·ªát v·ªùi üíê</p>
  <button class="start-btn" onclick="startQuiz()">B·∫Øt ƒë·∫ßu ngay üå∏</button>
</div>

<header><h1>üå∑ Ch√†o M·ª´ng Ng√†y Nh√† Gi√°o 20/10</h1></header>

<main class="wrap">
  <section class="card" id="quizCard">
    <h2 class="title" id="titleText">C√¢u h·ªèi 1 / 3</h2>
    <p class="sub">Tr·∫£ l·ªùi ƒë√∫ng ƒë·ªÉ sang c√¢u ti·∫øp theo</p>
    <div class="question" id="questionText"></div>
    <div class="options" id="optionsBox"></div>
    <div class="result" id="resultBox"></div>
    <button class="skip-btn" onclick="skipAll()">üéÄ B·ªè qua</button>
  </section>

  <aside class="side">
    <div class="slide-wrap"><div class="slide-track" id="slideTrack"></div></div>
    <div class="counter" id="counterText">C√¢u 1 / 3</div>
  </aside>
</main>

<!-- VIDEO TRANSITION -->
<div class="transition-video" id="transitionVideo">
  <video id="transitionVid" preload="auto">
    <source src="https://only-sapphire-dcsttrriyq.edgeone.app/tai_xuong.mp4" type="video/mp4">
  </video>
  <div class="transition-text">Ph·∫ßn tr√¨nh di·ªÖn c·ªßa trai ƒë·∫πp B10 üíå</div>
  <button id="toLetterBtn" class="to-letter hidden" onclick="showLetter()">[=>] Chuy·ªÉn</button>
</div>

<!-- LETTER -->
<div class="letter-wrap" id="letterWrap">
  <div class="letter-card">
    <h3 class="letter-title">üíå L·ªùi ch√∫c d√†nh cho b·∫°n</h3>
    <div class="typewriter" id="letterText"></div>
    <div class="done-note" id="doneNote">‚Äî Th√¢n g·ª≠i, Trai ƒê·∫πp B10 üå∏</div>
  </div>
</div>
<audio id="bgMusic" loop preload="auto" src=""></audio>

<script>
const questions = [
  // --- Nh√≥m A ---
  {
    q: "Ng√†y 20/10 l√† ng√†y g√¨ ·ªü Vi·ªát Nam?",
    opts: ["A. Ng√†y Nh√† gi√°o Vi·ªát Nam", "B. Ng√†y Ph·ª• n·ªØ Vi·ªát Nam", "C. Ng√†y Qu·ªëc t·∫ø Ph·ª• n·ªØ"],
    ans: 1,
  },
  {
    q: "T·ªï ch·ª©c n√†o ƒë·∫°i di·ªán cho quy·ªÅn v√† l·ª£i √≠ch h·ª£p ph√°p c·ªßa ph·ª• n·ªØ Vi·ªát Nam?",
    opts: [
      "ƒêo√†n Thanh ni√™n C·ªông s·∫£n H·ªì Ch√≠ Minh",
      "H·ªôi Li√™n hi·ªáp Ph·ª• n·ªØ Vi·ªát Nam",
      "T·ªïng Li√™n ƒëo√†n Lao ƒë·ªông Vi·ªát Nam",
    ],
    ans: 1,
  },
  {
    q: "Ng√†y Ph·ª• n·ªØ Vi·ªát Nam 20/10 ƒë∆∞·ª£c ch√≠nh th·ª©c th√†nh l·∫≠p v√†o nƒÉm n√†o?",
    opts: ["1954", "1930", "1945"],
    ans: 1,
  },
  {
    q: "M√†u s·∫Øc th∆∞·ªùng t∆∞·ª£ng tr∆∞ng cho t√¨nh y√™u v√† n·ªØ t√≠nh trong ng√†y 20/10 l√† g√¨?",
    opts: ["V√†ng", "H·ªìng ho·∫∑c ƒê·ªè", "Xanh d∆∞∆°ng"],
    ans: 1,
  },
  {
    q: "Lo√†i hoa n√†o th∆∞·ªùng ƒë∆∞·ª£c t·∫∑ng nhi·ªÅu nh·∫•t trong Ng√†y Ph·ª• n·ªØ Vi·ªát Nam?",
    opts: ["Hoa sen", "Hoa h·ªìng", "Hoa c√∫c"],
    ans: 1,
  },
  {
    q: "Ph·∫©m ch·∫•t n·ªïi b·∫≠t c·ªßa ph·ª• n·ªØ Vi·ªát Nam ƒë∆∞·ª£c B√°c H·ªì ca ng·ª£i l√† g√¨?",
    opts: [
      "Anh h√πng ‚Äì B·∫•t khu·∫•t ‚Äì Trung h·∫≠u ‚Äì ƒê·∫£m ƒëang",
      "Hi·ªÅn l√†nh ‚Äì D·ªãu d√†ng ‚Äì Th√¥ng minh",
      "T·ª± tin ‚Äì S√°ng t·∫°o ‚Äì D√°m nghƒ© d√°m l√†m",
    ],
    ans: 0,
  },
  {
    q: "Th√¥ng ƒëi·ªáp √Ω nghƒ©a nh·∫•t c·ªßa Ng√†y Ph·ª• n·ªØ Vi·ªát Nam l√† g√¨?",
    opts: [
      "Khuy·∫øn kh√≠ch th·ªÉ thao cho n·ªØ gi·ªõi",
      "Th√∫c ƒë·∫©y kinh t·∫ø ph√°t tri·ªÉn",
      "T√¥n vinh v√† kh·∫≥ng ƒë·ªãnh vai tr√≤ c·ªßa ph·ª• n·ªØ",
    ],
    ans: 2,
  },

  // --- Nh√≥m B ---
  {
    q: "Ai l√† Ch·ªß t·ªãch H·ªôi Li√™n hi·ªáp Ph·ª• n·ªØ Vi·ªát Nam ƒë·∫ßu ti√™n?",
    opts: ["Nguy·ªÖn Th·ªã B√¨nh", "Nguy·ªÖn Th·ªã Th·∫≠p", "Nguy·ªÖn Th·ªã Doan"],
    ans: 1,
  },
  {
    q: "T√™n g·ªçi th√¢n m·∫≠t ng∆∞·ªùi Vi·ªát th∆∞·ªùng d√πng ƒë·ªÉ g·ªçi m·∫π l√† g√¨?",
    opts: ["M·ª£", "M√°/M·∫π", "C·ª•"],
    ans: 1,
  },
  {
    q: "H√†nh ƒë·ªông n√†o th·ªÉ hi·ªán s·ª± t√¥n tr·ªçng ph·ª• n·ªØ trong gia ƒë√¨nh?",
    opts: [
      "ƒê·ªÉ ph·ª• n·ªØ t·ª± l√†m h·∫øt vi·ªác nh√†",
      "Ch·ªâ t·∫∑ng qu√† v√†o ng√†y l·ªÖ",
      "Chia s·∫ª c√¥ng vi·ªác nh√† v√† l·∫Øng nghe √Ω ki·∫øn",
    ],
    ans: 2,
  },
  {
    q: "Ai l√† ng∆∞·ªùi ph·ª• n·ªØ Vi·ªát Nam ƒë·∫ßu ti√™n ƒë∆∞·ª£c phong h·ªçc h√†m Gi√°o s∆∞?",
    opts: ["Nguy·ªÖn Th·ªã Doan", "Ho√†ng Xu√¢n S√≠nh", "Ng√¥ B√° Th√†nh"],
    ans: 1,
  },
  {
    q: "C√¢u ca dao n√†o n√≥i l√™n vai tr√≤ t·∫ßn t·∫£o, hi sinh c·ªßa ng∆∞·ªùi m·∫π Vi·ªát Nam?",
    opts: [
      "C√¥ng cha nh∆∞ n√∫i Th√°i S∆°n, nghƒ©a m·∫π nh∆∞ n∆∞·ªõc trong ngu·ªìn ch·∫£y ra",
      "B·∫ßu ∆°i th∆∞∆°ng l·∫•y b√≠ c√πng, tuy r·∫±ng kh√°c gi·ªëng nh∆∞ng chung m·ªôt gi√†n",
      "U·ªëng n∆∞·ªõc nh·ªõ ngu·ªìn, ƒÉn qu·∫£ nh·ªõ k·∫ª tr·ªìng c√¢y",
    ],
    ans: 0,
  },
  {
    q: "T·ª´ 'ph√°i ƒë·∫πp' th∆∞·ªùng d√πng ƒë·ªÉ ch·ªâ ƒë·ªëi t∆∞·ª£ng n√†o trong x√£ h·ªôi?",
    opts: ["Ph·ª• n·ªØ", "Nam gi·ªõi", "Thi·∫øu ni√™n"],
    ans: 0,
  },
  {
    q: "Nh√¢n v·∫≠t n·ªØ n√†o trong truy·ªÅn thuy·∫øt Vi·ªát Nam ƒë∆∞·ª£c xem l√† m·∫π c·ªßa d√¢n t·ªôc?",
    opts: ["M·ªµ Ch√¢u", "√Çu C∆°", "T·∫•m"],
    ans: 1,
  },

  // --- Nh√≥m C ---
  {
    q: "M·ªôt l·ªùi ch√∫c √Ω nghƒ©a nh·∫•t b·∫°n c√≥ th·ªÉ g·ª≠i ƒë·∫øn ph·ª• n·ªØ ng√†y 20/10 l√† g√¨?",
    opts: [
      "Ch√∫c lu√¥n kh·ªèe m·∫°nh, h·∫°nh ph√∫c v√† ƒë∆∞·ª£c y√™u th∆∞∆°ng",
      "Ch√∫c th·∫≠t nhi·ªÅu ti·ªÅn",
      "Ch√∫c ng√†y c√†ng xinh ƒë·∫πp",
    ],
    ans: 0,
  },
  {
    q: "Ng√†y 20/10 ƒë∆∞·ª£c g·∫Øn li·ªÅn v·ªõi s·ª± ki·ªán l·ªãch s·ª≠ n√†o c·ªßa Vi·ªát Nam?",
    opts: [
      "Th√†nh l·∫≠p ƒê·∫£ng C·ªông s·∫£n Vi·ªát Nam",
      "Th√†nh l·∫≠p H·ªôi Li√™n hi·ªáp Ph·ª• n·ªØ Vi·ªát Nam (ti·ªÅn th√¢n l√† H·ªôi Ph·ª• n·ªØ ph·∫£n ƒë·∫ø Vi·ªát Nam)",
      "Chi·∫øn th·∫Øng ƒêi·ªán Bi√™n Ph·ªß",
    ],
    ans: 1,
  },
  {
    q: "H√¨nh ·∫£nh n√†o ƒë∆∞·ª£c xem l√† bi·ªÉu t∆∞·ª£ng cho s·ª± ki√™n c∆∞·ªùng c·ªßa ng∆∞·ªùi ph·ª• n·ªØ Vi·ªát Nam?",
    opts: [
      "Ng∆∞·ªùi m·∫π g√°nh con v√† th√∫ng h√†ng ra ch·ª£",
      "B·ª©c tranh thi·∫øu n·ªØ b√™n hoa sen",
      "C√¥ g√°i trong t√† √°o d√†i tr·∫Øng",
    ],
    ans: 0,
  },
  {
    q: "Th√†nh t·ª±u l·ªõn nh·∫•t m√† ph·ª• n·ªØ Vi·ªát Nam ƒë√≥ng g√≥p cho ƒë·∫•t n∆∞·ªõc l√† g√¨?",
    opts: [
      "V·ª´a tham gia x√¢y d·ª±ng x√£ h·ªôi, v·ª´a nu√¥i d·∫°y th·∫ø h·ªá t∆∞∆°ng lai",
      "Ch·ªâ l√†m vi·ªác x√£ h·ªôi",
      "Ch·ªâ chƒÉm s√≥c gia ƒë√¨nh",
    ],
    ans: 0,
  },
  {
    q: "Ph·∫©m ch·∫•t ng∆∞·ªùi ph·ª• n·ªØ hi·ªán ƒë·∫°i n√™n c√≥ l√† g√¨?",
    opts: [
      "T·ª± tin ‚Äì ƒê·ªôc l·∫≠p ‚Äì S√°ng t·∫°o",
      "Khi√™m t·ªën ‚Äì Ph·ª• thu·ªôc ‚Äì D·ªÖ d√£i",
      "L·∫∑ng l·∫Ω ‚Äì Ng·∫°i thay ƒë·ªïi",
    ],
    ans: 0,
  },
  {
    q: "N·∫øu b·∫°n mu·ªën th·ªÉ hi·ªán t√¨nh c·∫£m v·ªõi ph·ª• n·ªØ ng√†y 20/10, ƒëi·ªÅu n√†o √Ω nghƒ©a nh·∫•t?",
    opts: [
      "Th√†nh th·∫≠t b√†y t·ªè l√≤ng bi·∫øt ∆°n, tr√¢n tr·ªçng v√† y√™u th∆∞∆°ng",
      "T·∫∑ng qu√† cho c√≥ h√¨nh th·ª©c",
      "G·ª≠i tin nh·∫Øn m·∫´u tr√™n m·∫°ng",
    ],
    ans: 0,
  },
];

const images = [
  "https://i.pinimg.com/736x/06/c7/24/06c7243e0758425c1512d2bff96feec0.jpg", 
  "https://i.pinimg.com/736x/f7/98/cb/f798cbd544f93357686feea2df8445d4.jpg", 
  "https://i.pinimg.com/736x/88/ce/e7/88cee71d30a97a892cea63401d38dc58.jpg", 
  "https://i.pinimg.com/736x/c9/16/52/c916527d5b6fb898fc7e25b94f67fd60.jpg", 
  "https://i.pinimg.com/736x/4e/55/a7/4e55a7e44babf976ab712f7bfcb35f41.jpg",
  "https://i.pinimg.com/736x/59/5c/18/595c186c4e208a060cd8ca4d24695454.jpg",
  "https://i.pinimg.com/736x/c2/56/02/c25602a767585c0fff18eee91a358b37.jpg",
  "https://i.pinimg.com/1200x/33/b0/d2/33b0d21a19d1bf5d483620a5eb1c9a1b.jpg",
  "https://i.pinimg.com/736x/49/37/8d/49378dab8db9f9db9e10462c1654f1e6.jpg",
  "https://i.pinimg.com/736x/c2/10/9b/c2109b148ab6395248787f7a2b99bf52.jpg",
  "https://i.pinimg.com/736x/0a/bb/50/0abb501278cd0331fb830f285cd124a2.jpg",
  "https://i.pinimg.com/736x/24/96/a6/2496a6fa6ef06c51aa71c34ba998814c.jpg",
  "https://i.pinimg.com/736x/35/24/c0/3524c026676ed875026102b493e5b0ad.jpg",
  "https://i.pinimg.com/736x/1e/f4/93/1ef493f6cf6a876a198ef5dd78632cb8.jpg",
  "https://i.pinimg.com/736x/cb/10/04/cb1004e318652f341dba2ecee313d5ca.jpg",
  "https://i.pinimg.com/736x/e7/99/a1/e799a1441a737d98e15e04f8e63659e7.jpg",
  "https://i.pinimg.com/736x/7d/f8/5a/7df85a86c3b05a938d5896253d1ae1b4.jpg",
  "https://i.pinimg.com/736x/e2/6f/11/e26f1105ea7345936ddfc78260c9b626.jpg",
  "https://i.pinimg.com/736x/15/93/fc/1593fc9950bf5ee41dee669a86b873b1.jpg",
  "https://i.pinimg.com/736x/22/d5/86/22d586f935cdc754751197229d4f4f3f.jpg",
  "https://i.pinimg.com/736x/db/12/e5/db12e52f6a7090acd5f0cf5bb06fd34c.jpg",
  "https://i.pinimg.com/1200x/bb/d5/25/bbd5256fe9c4389ff0a5057c67b76ca7.jpg",
  "https://i.pinimg.com/736x/eb/e4/37/ebe4374d5119957140afac4df4d0e9e0.jpg",
  "https://i.pinimg.com/736x/e7/98/a6/e798a622f9e85915df7f0aa804bffd00.jpg",
  "https://i.pinimg.com/736x/07/c9/86/07c9865202554c3f718a87628dbc3bce.jpg",
  "https://i.pinimg.com/736x/9f/c6/82/9fc682fd9ce4dfd8b89a20f1401cbd63.jpg",
  "https://i.pinimg.com/736x/93/11/d8/9311d878b1d661ad7d800af3fe43f1ce.jpg",
  "https://i.pinimg.com/736x/ce/d9/2c/ced92c907a6939731e0b7ee96c801435.jpg",
  "https://i.pinimg.com/736x/43/29/fb/4329fbfce0babc27996957f79fc951d0.jpg",
  "https://i.pinimg.com/736x/dd/7f/74/dd7f740fdb3f5a6bc9ddfa19b2429d5e.jpg",
];


/* ELEMENTS */
let idx=0;const total=questions.length;
const titleText=document.getElementById('titleText');
const qText=document.getElementById('questionText');
const opts=document.getElementById('optionsBox');
const res=document.getElementById('resultBox');
const counterText=document.getElementById('counterText');
const music=document.getElementById('bgMusic');

/* SLIDES */
const slideTrack=document.getElementById('slideTrack');
images.forEach(src=>{let i=document.createElement('img');i.src=src;slideTrack.appendChild(i);});
let slideIndex=0;
setInterval(()=>{slideIndex=(slideIndex+1)%images.length;slideTrack.style.transform=`translateX(-${slideIndex*100}%)`;},3000);

/* QUIZ */
function loadQuestion(){
  const q=questions[idx];
  titleText.textContent=`C√¢u h·ªèi ${idx+1} / ${total}`;
  counterText.textContent=`C√¢u ${idx+1} / ${total}`;
  qText.textContent=q.q;
  opts.innerHTML="";res.textContent="";
  q.opts.forEach((t,i)=>{
    const b=document.createElement('button');
    b.className="opt";b.textContent=t;
    b.onclick=()=>select(i,b);
    opts.appendChild(b);
  });
}
function select(i,btn){
  const q=questions[idx];
  const all=opts.querySelectorAll(".opt");
  all.forEach(o=>o.disabled=true);
  if(i===q.ans){
    btn.classList.add("correct");
    res.textContent="‚úÖ Ch√≠nh x√°c!";
    setTimeout(()=>{
      idx++;
      if(idx<total)loadQuestion();else showVideo();
    },1000);
  }else{
    btn.classList.add("wrong");
    res.textContent="‚ùå Sai r·ªìi, th·ª≠ l·∫°i nh√©!";
    setTimeout(()=>{
      btn.classList.remove("wrong");
      all.forEach(o=>o.disabled=false);
      res.textContent="";
    },900);
  }
}

/* VIDEO TRANSITION ‚Üí LETTER */
function showVideo(){
  const videoWrap=document.getElementById('transitionVideo');
  const video=document.getElementById('transitionVid');
  videoWrap.classList.add('show');
  video.currentTime=0;
  video.play();
  video.onended=()=>{
    const btn = document.getElementById('toLetterBtn');
    btn.classList.remove('hidden');
    setTimeout(()=>btn.classList.add('show'),300);
  };
}

/* LETTER */
const letterWrap=document.getElementById('letterWrap');
const letterText=document.getElementById('letterText');
const doneNote=document.getElementById('doneNote');
const message=`
üíê Ch√∫c m·ª´ng Ng√†y Ph·ª• n·ªØ Vi·ªát Nam 20/10! üíñ

Mong b·∫°n lu√¥n gi·ªØ ƒë∆∞·ª£c n·ª• c∆∞·ªùi r·∫°ng r·ª°, s·ª± t·ª± tin v√† l√≤ng m·∫°nh m·∫Ω ƒë·ªÉ chinh ph·ª•c m·ªçi m·ª•c ti√™u. B·∫°n ch√≠nh l√† ngu·ªìn c·∫£m h·ª©ng v√† ni·ªÅm vui cho m·ªçi ng∆∞·ªùi xung quanh.

Ch√∫c b·∫°n c√≥ m·ªôt ng√†y th·∫≠t ng·ªçt ng√†o, nh·∫≠n ƒë∆∞·ª£c th·∫≠t nhi·ªÅu hoa, qu√† v√† nh·ªØng l·ªùi y√™u th∆∞∆°ng ch√¢n th√†nh nh·∫•t.

Y√™u th∆∞∆°ng g·ª≠i ƒë·∫øn Ph√°i ƒë·∫πp!
`;
function showLetter() {
  letterWrap.classList.add('show');
  letterText.textContent = "";
  let i = 0;

  // üå∏ B·∫Øt ƒë·∫ßu hoa r∆°i ngay khi m·ªü th∆∞
  startFlowerRain();

  function type() {
    if (i < message.length) {
      letterText.textContent += message.charAt(i);
      i++;
      setTimeout(type, 30);
    } else {
      doneNote.style.opacity = 1;
    }
  }

  type();
}

function skipAll(){
  if(confirm("B·∫°n c√≥ ch·∫Øc mu·ªën b·ªè qua ph·∫ßn tr·∫Øc nghi·ªám kh√¥ng? üå∏")){
    idx = total; // b·ªè qua t·∫•t c·∫£ c√¢u h·ªèi
    showVideo(); // chuy·ªÉn ngay sang ph·∫ßn video + th∆∞
  }
}

function startFlowerRain(){
  setInterval(()=>{
    const f = document.createElement("div");
    f.className = "flower";
    f.style.left = Math.random() * 100 + "vw";
    f.style.width = 10 + Math.random() * 16 + "px";
    f.style.height = f.style.width;
    f.style.background = `radial-gradient(circle at ${20+Math.random()*60}% ${20+Math.random()*60}%, 
      hsl(${330+Math.random()*20}, 90%, ${70+Math.random()*10}%),
      hsl(${330+Math.random()*20}, 80%, ${50+Math.random()*10}%)
    )`;
    f.style.animationDuration = 4 + Math.random() * 5 + "s";
    f.style.animationDelay = Math.random() * 2 + "s";
    f.style.borderRadius = `${40+Math.random()*30}% ${50+Math.random()*50}% ${40+Math.random()*30}% ${50+Math.random()*50}%`;
    document.body.appendChild(f);
    setTimeout(()=>f.remove(), 9000);
  }, 250);
}

/* INTRO LOGIC */
function startQuiz(){
  const intro=document.getElementById('intro');
  intro.style.transition='opacity 1s';
  intro.style.opacity=0;
  music.play().catch(()=>{});
  setTimeout(()=>{
    intro.remove();
    document.querySelector('header').style.display='block';
    document.querySelector('.wrap').style.display='grid';
    loadQuestion();
  },1000);
}
</script>
</body>
</html>
