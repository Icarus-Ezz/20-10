<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>20/10</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --pink-1:#ff6f91;
    --bg: linear-gradient(180deg,#fff8fb,#fff);
    --card:#fffafc;
    --shadow: 0 12px 30px rgba(0,0,0,0.12);
    --text:#382434;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:var(--bg);font-family:Inter,system-ui,Roboto,Arial;color:var(--text)}
  header{padding:18px;text-align:center;background:linear-gradient(90deg,#ffdfe8,#fff1f6);box-shadow:0 6px 18px rgba(0,0,0,0.06)}
  header h1{margin:0;font-family:'Playfair Display',serif;font-size:26px;color:#5b2340}

  /* layout */
  .wrap{max-width:1200px;margin:26px auto;padding:18px;display:grid;grid-template-columns:1fr 460px;gap:26px;align-items:start}
  @media(max-width:1024px){.wrap{grid-template-columns:1fr 360px}}
  @media(max-width:820px){.wrap{grid-template-columns:1fr;padding:12px}}

  /* question card */
  .card{background:linear-gradient(180deg,var(--card),#fff);border-radius:14px;padding:28px;box-shadow:var(--shadow);min-height:320px}
  .topline{display:flex;justify-content:space-between;align-items:center;gap:12px}
  .title{font-family:'Playfair Display',serif;font-size:26px;color:var(--pink-1);margin:0}
  .sub{color:#6d5866;font-size:14px}
  .question{margin-top:18px;font-size:22px;font-weight:700}
  .options{display:flex;flex-direction:column;gap:12px;margin-top:16px}
  .opt{padding:14px 16px;border-radius:12px;background:#fff;border:1px solid rgba(200,130,150,0.08);font-size:18px;cursor:pointer;box-shadow:0 8px 20px rgba(0,0,0,0.04);text-align:left;transition:transform .12s,background .2s}
  .opt:hover{transform:translateY(-4px);background:#fff6f9}
  .opt.correct{background:linear-gradient(90deg,#e6fff6,#dffaf0);border-color:rgba(80,200,170,0.14)}
  .opt.wrong{background:linear-gradient(90deg,#fff0f0,#ffecec);border-color:rgba(255,120,120,0.10)}
  .result{margin-top:12px;font-weight:800;color:var(--pink-1);min-height:28px}
  .small{color:#7b6776;font-size:13px}

  /* right: slideshow */
  .side{display:flex;flex-direction:column;gap:18px;align-items:center}
  .flip-wrap{width:100%;max-width:420px;height:320px;perspective:1200px;border-radius:14px;overflow:visible}
  .flipper{width:100%;height:100%;position:relative;transform-style:preserve-3d;transition:transform .8s ease}
  .card-face{position:absolute;inset:0;border-radius:12px;backface-visibility:hidden;overflow:hidden;box-shadow:0 12px 36px rgba(0,0,0,0.14)}
  .card-face img{width:100%;height:100%;object-fit:cover;display:block}
  .face-front{transform:rotateY(0deg)}
  .face-back{transform:rotateY(180deg)}
  .flipped{transform:rotateY(180deg)}

  .meta{width:100%;max-width:420px;background:rgba(255,255,255,0.95);padding:12px;border-radius:12px;text-align:center;box-shadow:0 8px 24px rgba(0,0,0,0.06)}
  .counter{font-weight:800;color:var(--pink-1);font-size:18px}
  .controls{display:flex;gap:8px;align-items:center;justify-content:center;margin-top:10px}
  .controls input{padding:8px 10px;border-radius:10px;border:1px solid #f0d6df;font-size:14px}
  .btn{padding:9px 12px;border-radius:10px;border:0;background:var(--pink-1);color:white;font-weight:700;cursor:pointer}

  /* credit overlay (movie ending) */
  .overlay{position:fixed;inset:0;background:rgba(8,6,10,0.78);display:none;align-items:center;justify-content:center;z-index:9999;padding:20px}
  .overlay.show{display:flex}
  .credit-modal{width:100%;max-width:1100px;border-radius:12px;background:transparent;display:flex;gap:18px;align-items:flex-start}
  @media(max-width:1000px){.credit-modal{flex-direction:column;align-items:center}}
  .film{width:140px;background:linear-gradient(180deg,#0b0b0b,#1a1a1a);border-radius:10px;padding:12px;display:flex;flex-direction:column;align-items:center;gap:8px;box-shadow:0 14px 40px rgba(0,0,0,0.6)}
  .film .cell{width:80%;height:30px;background:#0c0c0c;border-radius:4px;box-shadow:inset 0 -2px 0 rgba(255,255,255,0.02)}
  .film .perfs{margin-top:6px;display:flex;gap:6px;flex-direction:column}
  .perf{width:16px;height:6px;background:#fff3;border-radius:3px;opacity:0.6}

  .credit-box{flex:1;position:relative;background:linear-gradient(180deg,rgba(0,0,0,0.45),rgba(0,0,0,0.6));border-radius:10px;padding:18px;overflow:hidden;min-height:360px}
  .credit-scroll{position:absolute;left:0;right:0;bottom:-120%;text-align:center;color:#fff;font-size:20px;line-height:2;animation:creditMove 18s linear forwards}
  @keyframes creditMove{0%{bottom:-120%}100%{bottom:120%}}

  .credit-video{width:420px;border-radius:10px;overflow:hidden;box-shadow:0 12px 36px rgba(0,0,0,0.5)}
  @media(max-width:1000px){.credit-video{width:92%}}

  .close-credit{position:absolute;top:12px;right:12px;background:rgba(255,255,255,0.1);color:#fff;padding:6px 8px;border-radius:8px;border:1px solid rgba(255,255,255,0.14);cursor:pointer;z-index:10}

  /* toast */
  .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:28px;background:rgba(0,0,0,0.8);color:white;padding:10px 16px;border-radius:10px;z-index:20000;opacity:0;transition:opacity .25s}
  .toast.show{opacity:1}
</style>
</head>
<body>

<header>
  <h1>üå∑ 20/10 - M·ª´ng Ng√†y Ph·ª• N·ªØ</h1>
</header>

<main class="wrap" aria-live="polite">
  <!-- left: quiz -->
  <section class="card" id="quizCard" role="region" aria-label="C√¢u h·ªèi">
    <div class="topline">
      <h2 class="title" id="titleText">C√¢u h·ªèi 1 / 10</h2>
      <div class="sub">Tr·∫£ l·ªùi ƒë√∫ng ƒë·ªÉ qua c√¢u ti·∫øp theo</div>
    </div>

    <div class="question" id="questionText">...</div>

    <div class="options" id="optionsBox"></div>

    <div class="result" id="resultBox" aria-live="assertive"></div>
    <div class="small" style="margin-top:10px">üéØ G·ª£i √Ω: Ch·ªçn ƒë√°p √°n m√† b·∫°n th·∫•y h·ª£p l√Ω ‚Äî ƒë√∫ng s·∫Ω t·ª± chuy·ªÉn</div>
  </section>

  <!-- right: slideshow and controls -->
  <aside class="side" aria-label="·∫¢nh minh h·ªça">
    <div class="flip-wrap" role="img" aria-label="Slideshow l·∫≠t">
      <div id="flipper" class="flipper">
        <div class="card-face face-front"><img id="imgFront" src="" alt=""></div>
        <div class="card-face face-back"><img id="imgBack" src="" alt=""></div>
      </div>
    </div>

    <div class="meta">
      <div class="counter" id="counterText">C√¢u 1 / 10</div>

      <div class="controls" style="margin-top:12px">
        <input id="creator" placeholder="T√™n th·ª±c hi·ªán (vd. Ph√°t H∆∞ng)" />
        <button class="btn" id="saveCreator">L∆∞u</button>
      </div>
    </div>
  </aside>
</main>

<!-- credit overlay -->
<div class="overlay" id="overlay" aria-hidden="true">
  <div class="credit-modal">
    <div class="film" aria-hidden="true">
      <div class="cell"></div>
      <div class="cell"></div>
      <div class="cell"></div>
      <div class="perfs">
        <div class="perf"></div>
        <div class="perf"></div>
        <div class="perf"></div>
      </div>
    </div>

    <div class="credit-box" role="dialog" aria-label="Credits cu·ªëi phim">
      <button class="close-credit" id="closeCredit">ƒê√≥ng</button>
      <div class="credit-scroll" id="creditScroll">
        <!-- filled by JS -->
      </div>
    </div>

    <div class="credit-video" id="videoBox" aria-hidden="false">
      <!-- YouTube iframe visible -->
      <iframe id="ytFrame" width="420" height="315"
        src=""
        frameborder="0"
        allow="autoplay; encrypted-media"
        allowfullscreen
        title="Nh·∫°c n·ªÅn"></iframe>
    </div>
  </div>
</div>

<div class="toast" id="toast" role="status" aria-live="polite"></div>

<script>
/* ========== Data (edit easily) ========== */
const questions = [
  { q:"Ng√†y 20/10 ·ªü Vi·ªát Nam l√† ng√†y g√¨?", options:["Ng√†y Nh√† gi√°o", "Ng√†y Ph·ª• n·ªØ Vi·ªát Nam", "Ng√†y Qu·ªëc t·∫ø Thi·∫øu nhi"], correct:1 },
  { q:"Lo√†i hoa th∆∞·ªùng d√πng t·∫∑ng ng∆∞·ªùi th∆∞∆°ng?", options:["Hoa h∆∞·ªõng d∆∞∆°ng","Hoa h·ªìng","Hoa lan"], correct:1 },
  { q:"T·ª´ n√†o di·ªÖn t·∫£ ng∆∞·ªùi ph·ª• n·ªØ tuy·ªát v·ªùi nh·∫•t?", options:["Nguy hi·ªÉm","T·ªèa s√°ng","L·∫°nh l√πng"], correct:1 },
  { q:"Ai th∆∞·ªùng ƒë∆∞·ª£c t·∫∑ng qu√† trong ng√†y 20/10?", options:["B·∫°n b√® nam","B·∫°n b√® n·ªØ v√† ng∆∞·ªùi th√¢n","Ch·ªâ tr·∫ª em"], correct:1 },
  { q:"M√†u d·ªãu th∆∞·ªùng th·∫•y trong ng√†y 20/10 l√†?", options:["H·ªìng","Xanh","ƒêen"], correct:0 },
  { q:"B·∫°n th√≠ch m√≥n qu√† n√†o nh·∫•t?", options:["Hoa","L·ªùi ch√∫c","C·∫£ hai"], correct:2 },
  { q:"Ng∆∞·ªùi Vi·ªát th∆∞·ªùng t·∫∑ng g√¨ cho m·∫π?", options:["Gi√†y","Hoa v√† l·ªùi ch√∫c","Xe h∆°i"], correct:1 },
  { q:"Bi·ªÉu hi·ªán c·ªßa l√≤ng bi·∫øt ∆°n l√†?", options:["B·ª±c t·ª©c","C·∫£m ∆°n v√† tr√¢n tr·ªçng","L·ªù ƒëi"], correct:1 },
  { q:"M√≥n qu√† tinh th·∫ßn √Ω nghƒ©a l√†?", options:["L·ªùi ch√∫c ch√¢n th√†nh","ƒê·ªì v·∫≠t ƒë·∫Øt ti·ªÅn","Im l·∫∑ng"], correct:0 },
  { q:"B·∫°n s·∫Ω l√†m g√¨ ƒë·ªÉ t√¥n vinh ph·ª• n·ªØ?", options:["Th·∫•y v√† l·∫Øng nghe","Ph·ªõt l·ªù","C∆∞·ªùi nh·∫°o"], correct:0 }
];

const imgs = [
  "https://i.pinimg.com/736x/79/74/6a/79746a79f9571fabbc3fef4a2061eb3b.jpg",
  "https://i.pinimg.com/736x/40/8b/19/408b195c47e8d016f4199bd297fda96f.jpg",
  "https://i.pinimg.com/1200x/5c/96/b9/5c96b995b5dff0bdef9ed68a622c9497.jpg"
];
const YT_VIDEO_ID = "wME4xQ02GWo";

let qIndex = 0;
const total = questions.length;
const questionText = document.getElementById('questionText');
const optionsBox = document.getElementById('optionsBox');
const resultBox = document.getElementById('resultBox');
const titleText = document.getElementById('titleText');
const counterText = document.getElementById('counterText');

const flipper = document.getElementById('flipper');
const imgFront = document.getElementById('imgFront');
const imgBack = document.getElementById('imgBack');

const toastEl = document.getElementById('toast');

/* creator */
const creatorInput = document.getElementById('creator');
const saveCreator = document.getElementById('saveCreator');
let creatorName = 'Hello';
creatorInput.value = localStorage.getItem('creatorName') || creatorName;

saveCreator.addEventListener('click', ()=>{
  creatorName = (creatorInput.value.trim() || 'Ph√°t H∆∞ng');
  localStorage.setItem('creatorName', creatorName);
  showToast('ƒê√£ l∆∞u t√™n ng∆∞·ªùi th·ª±c hi·ªán');
});

/* Initialize flip images */
let slidePos = 0;
imgFront.src = imgs[0];
imgBack.src = imgs[1 % imgs.length];

/* flip function: do a smooth 3D flip to next image */
let flipping = false;
function flipToNext(){
  if(flipping) return;
  flipping = true;
  // prepare back image to next
  const nextIndex = (slidePos + 1) % imgs.length;
  imgBack.src = imgs[nextIndex];
  // trigger flip
  flipper.classList.add('flipped');
  // after transition, swap front/back images
  setTimeout(()=>{
    // swap srcs: front becomes current next
    imgFront.src = imgs[nextIndex];
    // reset transform
    flipper.classList.remove('flipped');
    // update slidePos
    slidePos = nextIndex;
    // set back to the following image
    const following = (slidePos + 1) % imgs.length;
    imgBack.src = imgs[following];
    flipping = false;
  }, 850); // slightly longer than CSS transition .8s
}

/* auto flip every 3s */
setInterval(flipToNext, 3000);

/* Render question */
function renderQuestion(i){
  qIndex = i;
  const item = questions[i];
  titleText.textContent = `C√¢u h·ªèi ${i+1} / ${total}`;
  counterText.textContent = `C√¢u ${i+1} / ${total}`;
  questionText.textContent = item.q;
  optionsBox.innerHTML = '';
  resultBox.textContent = '';

  item.options.forEach((opt, j) => {
    const b = document.createElement('button');
    b.className = 'opt';
    b.innerText = opt;
    b.addEventListener('click', ()=> handleAnswer(j, b));
    optionsBox.appendChild(b);
  });

  history.replaceState(null, '', '#question' + (i+1));
  document.querySelector('.card').animate([{opacity:0, transform:'translateY(8px)'},{opacity:1, transform:'translateY(0)'}], {duration:280, easing:'ease-out'});
}

/* answer handler */
let locked = false;
function handleAnswer(choice, btn){
  if(locked) return;
  locked = true;
  const correct = questions[qIndex].correct;
  // disable all
  const all = optionsBox.querySelectorAll('.opt');
  all.forEach(x => x.disabled = true);

  if(choice === correct){
    btn.classList.add('correct');
    resultBox.textContent = '‚úÖ Ch√≠nh x√°c! S·∫Ω chuy·ªÉn sang c√¢u ti·∫øp theo...';
    showToast('‚úÖ ƒê√∫ng r·ªìi!');
    setTimeout(()=>{
      const next = qIndex + 1;
      if(next < total){
        renderQuestion(next);
        locked = false;
      } else {
        // finished: show credits and video
        showCredits();
      }
    }, 1400);
  } else {
    btn.classList.add('wrong');
    resultBox.textContent = '‚ùå Sai r·ªìi ‚Äî th·ª≠ l·∫°i nh√©!';
    showToast('‚ùå Sai r·ªìi!');
    setTimeout(()=>{
      all.forEach(x => { x.disabled = false; x.classList.remove('wrong'); });
      resultBox.textContent = '';
      locked = false;
    }, 900);
  }
}

/* start from hash or 0 */
function start(){
  const h = location.hash || '#question1';
  const match = h.match(/question(\d+)/i);
  let s = 0;
  if(match){ const n = parseInt(match[1],10) - 1; if(!isNaN(n) && n>=0 && n<total) s = n; }
  renderQuestion(s);
}
start();
/* hash support */
window.addEventListener('hashchange', ()=> {
  const m = location.hash.match(/question(\d+)/i);
  if(m){ const n = parseInt(m[1],10)-1; if(!isNaN(n) && n>=0 && n<total) renderQuestion(n); }
});

/* toast */
let toastTimer = null;
function showToast(msg){
  clearTimeout(toastTimer);
  toastEl.textContent = msg;
  toastEl.classList.add('show');
  toastTimer = setTimeout(()=> toastEl.classList.remove('show'), 1600);
}

/* =========== Credits & Video =========== */
const overlay = document.getElementById('overlay');
const creditScroll = document.getElementById('creditScroll');
const closeCredit = document.getElementById('closeCredit');
const ytFrame = document.getElementById('ytFrame');

function buildCreditsHtml(){
  const lines = [
    '‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê K·∫æT TH√öC ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê',
    '',
    `Th·ª±c hi·ªán b·ªüi: Trai ƒê·∫πp B10`,
    '',
    'C·∫£m ∆°n b·∫°n ƒë√£ tham gia th·ª≠ th√°ch',
    '',
    'L·ªùi ch√∫c:',
    'Ch√∫c b·∫°n lu√¥n r·∫°ng r·ª°, m·∫°nh m·∫Ω v√† tr√†n ƒë·∫ßy ni·ªÅm vui.',
    '',
    'H·∫πn g·∫∑p l·∫°i trong nh·ªØng ch∆∞∆°ng tr√¨nh ti·∫øp theo.',
    '',
    'üíê 20/10 ‚Äî V·ªõi t·∫•t c·∫£ y√™u th∆∞∆°ng üíê'
  ];
  return lines.map(l => `<div style="font-size:20px;margin:6px 0">${escapeHtml(l)}</div>`).join('');
}
function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

function showCredits(){
  // build credit content (if you'd like to include custom creator: use stored value)
  creditScroll.innerHTML = buildCreditsHtml();
  // reset animation (reflow hack)
  creditScroll.style.animation = 'none';
  void creditScroll.offsetWidth;
  creditScroll.style.animation = null;

  // show overlay
  overlay.classList.add('show');
  overlay.setAttribute('aria-hidden','false');

  // set youtube src (visible frame)
  const vid = YT_VIDEO_ID;
  // autoplay + loop (loop requires playlist param)
  ytFrame.src = `https://www.youtube.com/embed/${vid}?rel=0&autoplay=1&loop=1&playlist=${vid}&controls=1&modestbranding=1`;
}

closeCredit.addEventListener('click', ()=>{
  overlay.classList.remove('show');
  overlay.setAttribute('aria-hidden','true');
  ytFrame.src = '';
});
overlay.addEventListener('click', (e)=> { if(e.target === overlay){ overlay.classList.remove('show'); overlay.setAttribute('aria-hidden','true'); ytFrame.src=''; } });

/* Prevent accidental full-width bars: ensure close button size and credit box layout stable */
/* Nothing more needed */

</script>
</body>
</html>
